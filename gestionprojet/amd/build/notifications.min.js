define(["jquery"],function(a){return{containerId:"gp-toast-container",defaultDuration:5e3,maxToasts:5,activeToasts:[],init:function(t){this.defaultDuration=(t=t||{}).duration||5e3,this.maxToasts=t.maxToasts||5,this.createContainer(),this.injectStyles()},createContainer:function(){var t;a("#"+this.containerId).length||(t=a("<div>").attr("id",this.containerId).css({position:"fixed",top:"20px",right:"20px","z-index":"9999",display:"flex","flex-direction":"column",gap:"10px","max-width":"400px","pointer-events":"none"}),a("body").append(t))},injectStyles:function(){a("#gp-toast-styles").length||a("head").append('<style id="gp-toast-styles">.gp-toast {  display: flex; align-items: flex-start; gap: 12px;  padding: 14px 18px; border-radius: 10px;  background: white; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);  transform: translateX(120%); opacity: 0;  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);  pointer-events: auto; cursor: pointer;  border-left: 4px solid #6b7280;}.gp-toast.show {  transform: translateX(0); opacity: 1;}.gp-toast.hiding {  transform: translateX(120%); opacity: 0;}.gp-toast-success { border-left-color: #10b981; }.gp-toast-error { border-left-color: #ef4444; }.gp-toast-warning { border-left-color: #f59e0b; }.gp-toast-info { border-left-color: #3b82f6; }.gp-toast-ai { border-left-color: #8b5cf6; }.gp-toast-icon {  font-size: 1.3em; flex-shrink: 0;}.gp-toast-content {  flex: 1; min-width: 0;}.gp-toast-title {  font-weight: 600; color: #1f2937; margin-bottom: 2px;}.gp-toast-message {  color: #6b7280; font-size: 0.9em; line-height: 1.4;}.gp-toast-close {  background: none; border: none; padding: 0;  color: #9ca3af; cursor: pointer; font-size: 1.2em;  line-height: 1; opacity: 0.7; transition: opacity 0.2s;}.gp-toast-close:hover { opacity: 1; }.gp-toast-progress {  position: absolute; bottom: 0; left: 0; right: 0;  height: 3px; background: rgba(0, 0, 0, 0.1);  border-radius: 0 0 10px 10px; overflow: hidden;}.gp-toast-progress-bar {  height: 100%; background: currentColor; opacity: 0.3;  animation: gp-toast-progress linear forwards;}@keyframes gp-toast-progress {  from { width: 100%; }  to { width: 0%; }}</style>')},show:function(t){var s=this;for(t=a.extend({type:"info",title:"",message:"",duration:this.defaultDuration,closable:!0,onClick:null},t);this.activeToasts.length>=this.maxToasts;)this.dismiss(this.activeToasts[0].id);var i={success:"âœ“",error:"âœ•",warning:"âš ",info:"â„¹",ai:"ðŸ¤–"},e="toast-"+Date.now(),i=i[t.type]||i.info,o=a("<div>").attr("id",e).addClass("gp-toast gp-toast-"+t.type).css("position","relative"),i='<span class="gp-toast-icon">'+i+'</span><div class="gp-toast-content">',i=(t.title&&(i+='<div class="gp-toast-title">'+this.escapeHtml(t.title)+"</div>"),i=i+('<div class="gp-toast-message">'+this.escapeHtml(t.message)+"</div>")+"</div>",t.closable&&(i+='<button class="gp-toast-close" aria-label="Fermer">&times;</button>'),0<t.duration&&(i+='<div class="gp-toast-progress"><div class="gp-toast-progress-bar" style="animation-duration: '+t.duration+'ms;"></div></div>'),o.html(i),o.find(".gp-toast-close").on("click",function(t){t.stopPropagation(),s.dismiss(e)}),t.onClick?o.on("click",function(){t.onClick(),s.dismiss(e)}):o.on("click",function(){s.dismiss(e)}),a("#"+this.containerId).append(o),{id:e,element:o,timer:null});return this.activeToasts.push(i),setTimeout(function(){o.addClass("show")},10),0<t.duration&&(i.timer=setTimeout(function(){s.dismiss(e)},t.duration)),{id:e,dismiss:function(){s.dismiss(e)}}},dismiss:function(t){for(var s,i=-1,e=0;e<this.activeToasts.length;e++)if(this.activeToasts[e].id===t){i=e;break}-1!==i&&((s=this.activeToasts[i]).timer&&clearTimeout(s.timer),s.element.addClass("hiding"),setTimeout(function(){s.element.remove()},300),this.activeToasts.splice(i,1))},dismissAll:function(){var s=this;this.activeToasts.map(function(t){return t.id}).forEach(function(t){s.dismiss(t)})},success:function(t,s){return this.show({type:"success",title:s||"SuccÃ¨s",message:t})},error:function(t,s){return this.show({type:"error",title:s||"Erreur",message:t,duration:8e3})},warning:function(t,s){return this.show({type:"warning",title:s||"Attention",message:t})},info:function(t,s){return this.show({type:"info",title:s||"",message:t})},ai:function(t,s){return this.show({type:"ai",title:s||"Ã‰valuation IA",message:t})},aiComplete:function(t,s){return this.show({type:"ai",title:"Ã‰valuation terminÃ©e",message:s+" - Note: "+t+"/20",duration:1e4})},escapeHtml:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}}});